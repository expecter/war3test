local ____lualib = require("lualib_bundle")
local __TS__Class = ____lualib.__TS__Class
local __TS__ObjectAssign = ____lualib.__TS__ObjectAssign
local __TS__New = ____lualib.__TS__New
local __TS__SetDescriptor = ____lualib.__TS__SetDescriptor
local __TS__SourceMapTraceBack = ____lualib.__TS__SourceMapTraceBack
__TS__SourceMapTraceBack(debug.getinfo(1).short_src, {["9"] = 1,["10"] = 1,["11"] = 2,["12"] = 2,["13"] = 3,["14"] = 3,["15"] = 4,["16"] = 4,["17"] = 5,["18"] = 5,["19"] = 6,["20"] = 6,["21"] = 7,["22"] = 7,["23"] = 8,["24"] = 8,["25"] = 11,["26"] = 48,["27"] = 48,["28"] = 48,["29"] = 135,["30"] = 55,["31"] = 55,["32"] = 55,["33"] = 61,["34"] = 70,["35"] = 71,["36"] = 72,["37"] = 95,["38"] = 111,["39"] = 113,["40"] = 132,["41"] = 133,["42"] = 136,["43"] = 137,["44"] = 138,["47"] = 141,["48"] = 142,["49"] = 143,["51"] = 145,["52"] = 146,["53"] = 147,["54"] = 148,["55"] = 149,["56"] = 150,["57"] = 151,["58"] = 152,["59"] = 153,["60"] = 154,["61"] = 155,["62"] = 156,["67"] = 135,["68"] = 166,["69"] = 167,["72"] = 170,["75"] = 173,["76"] = 174,["77"] = 175,["78"] = 176,["79"] = 177,["80"] = 178,["83"] = 181,["84"] = 182,["86"] = 185,["87"] = 186,["88"] = 187,["89"] = 187,["90"] = 187,["91"] = 188,["92"] = 187,["93"] = 187,["95"] = 192,["97"] = 192,["99"] = 194,["100"] = 195,["102"] = 198,["103"] = 166,["104"] = 216,["105"] = 217,["106"] = 216,["107"] = 220,["108"] = 221,["109"] = 222,["110"] = 220,["111"] = 226,["112"] = 227,["113"] = 228,["115"] = 230,["116"] = 230,["117"] = 231,["119"] = 233,["120"] = 226,["121"] = 240,["122"] = 241,["125"] = 245,["126"] = 246,["127"] = 247,["128"] = 248,["131"] = 252,["132"] = 253,["134"] = 255,["136"] = 255,["138"] = 240,["139"] = 281,["140"] = 282,["141"] = 281,["142"] = 285,["143"] = 285,["144"] = 285,["146"] = 286,["147"] = 287,["149"] = 289,["150"] = 285,["151"] = 411,["152"] = 412,["153"] = 411,["154"] = 419,["155"] = 420,["156"] = 419,["157"] = 427,["158"] = 428,["159"] = 427,["160"] = 436,["161"] = 436,["162"] = 436,["164"] = 437,["165"] = 438,["166"] = 439,["168"] = 441,["169"] = 436,["170"] = 469,["171"] = 469,["172"] = 469,["174"] = 470,["175"] = 471,["176"] = 472,["178"] = 469,["179"] = 499,["180"] = 500,["181"] = 501,["182"] = 502,["184"] = 504,["185"] = 505,["186"] = 506,["187"] = 499,["188"] = 513,["189"] = 514,["190"] = 513,["191"] = 517,["192"] = 518,["193"] = 519,["194"] = 520,["196"] = 522,["197"] = 517,["198"] = 529,["199"] = 530,["200"] = 529,["201"] = 533,["202"] = 534,["203"] = 533,["204"] = 541,["205"] = 542,["206"] = 541,["207"] = 545,["208"] = 546,["209"] = 545,["210"] = 553,["211"] = 554,["212"] = 553,["213"] = 557,["214"] = 557,["215"] = 557,["217"] = 558,["218"] = 559,["219"] = 560,["221"] = 563,["222"] = 564,["224"] = 566,["225"] = 567,["227"] = 570,["228"] = 571,["230"] = 573,["231"] = 574,["233"] = 576,["234"] = 578,["235"] = 578,["236"] = 578,["237"] = 579,["238"] = 578,["239"] = 578,["241"] = 582,["242"] = 557,["243"] = 590,["244"] = 591,["245"] = 592,["247"] = 594,["248"] = 590,["249"] = 601,["250"] = 602,["251"] = 601,["252"] = 608,["253"] = 609,["254"] = 608,["255"] = 617,["256"] = 618,["257"] = 617,["258"] = 621,["259"] = 622,["260"] = 621,["261"] = 626,["262"] = 627,["263"] = 629,["264"] = 626,["265"] = 632,["266"] = 633,["267"] = 632,["268"] = 640,["269"] = 641,["270"] = 642,["271"] = 640,["272"] = 648,["273"] = 649,["274"] = 649,["275"] = 649,["276"] = 649,["277"] = 648,["278"] = 653,["279"] = 654,["280"] = 653,["281"] = 657,["282"] = 658,["283"] = 657,["284"] = 662,["285"] = 662,["286"] = 672,["287"] = 674,["288"] = 675,["289"] = 676,["290"] = 677,["293"] = 680,["294"] = 681,["295"] = 681,["296"] = 681,["297"] = 681,["298"] = 681,["299"] = 681,["300"] = 681,["301"] = 681,["302"] = 681,["303"] = 682,["304"] = 683,["305"] = 684,["307"] = 687,["308"] = 688,["310"] = 693,["311"] = 672,["312"] = 696,["313"] = 697,["316"] = 700,["318"] = 700,["319"] = 700,["320"] = 700,["321"] = 700,["322"] = 700,["323"] = 700,["324"] = 700,["326"] = 702,["327"] = 696,["328"] = 705,["329"] = 706,["332"] = 709,["333"] = 710,["334"] = 711,["335"] = 713,["337"] = 715,["338"] = 716,["339"] = 717,["340"] = 718,["341"] = 720,["344"] = 705,["345"] = 728,["346"] = 729,["347"] = 728,["348"] = 736,["349"] = 736,["350"] = 736,["352"] = 738,["355"] = 741,["356"] = 742,["357"] = 743,["358"] = 744,["362"] = 749,["363"] = 750,["365"] = 752,["366"] = 753,["367"] = 754,["369"] = 754,["371"] = 755,["373"] = 755,["375"] = 756,["376"] = 757,["377"] = 758,["379"] = 760,["381"] = 762,["382"] = 763,["383"] = 764,["385"] = 766,["386"] = 767,["387"] = 768,["388"] = 769,["390"] = 772,["391"] = 773,["392"] = 775,["393"] = 775,["394"] = 775,["395"] = 775,["396"] = 775,["397"] = 775,["400"] = 778,["401"] = 779,["402"] = 780,["403"] = 736,["404"] = 787,["405"] = 788,["406"] = 788,["407"] = 788,["408"] = 790,["409"] = 788,["410"] = 788,["411"] = 787,["412"] = 51,["413"] = 52,["418"] = 205,["427"] = 209,["429"] = 212,["430"] = 213,["440"] = 260,["441"] = 261,["443"] = 263,["445"] = 266,["446"] = 267,["455"] = 274,["463"] = 296,["472"] = 300,["474"] = 303,["475"] = 304,["478"] = 307,["479"] = 308,["480"] = 309,["482"] = 309,["484"] = 312,["485"] = 314,["486"] = 315,["487"] = 316,["488"] = 317,["489"] = 317,["490"] = 317,["491"] = 318,["492"] = 317,["493"] = 317,["496"] = 322,["497"] = 324,["498"] = 325,["500"] = 328,["501"] = 330,["502"] = 332,["503"] = 333,["504"] = 333,["505"] = 333,["506"] = 333,["507"] = 334,["509"] = 334,["510"] = 334,["511"] = 334,["512"] = 334,["513"] = 334,["515"] = 333,["516"] = 333,["518"] = 339,["519"] = 342,["521"] = 345,["531"] = 355,["539"] = 362,["547"] = 369,["548"] = 370,["550"] = 372,["551"] = 372,["552"] = 373,["553"] = 374,["555"] = 376,["563"] = 383,["571"] = 390,["579"] = 397,["587"] = 404,["596"] = 460,["598"] = 447,["599"] = 448,["600"] = 449,["601"] = 450,["603"] = 452,["605"] = 452,["617"] = 477,["619"] = 480,["620"] = 481,["621"] = 482,["622"] = 484,["623"] = 485,["625"] = 487,["627"] = 487,["629"] = 489,["634"] = 798,["635"] = 799,["636"] = 800});
local ____exports = {}
local ____DataBase = require("solar.solar-common.common.DataBase")
local DataBase = ____DataBase.default
local ____ObjectTemplateUtil = require("solar.solar-common.util.object.ObjectTemplateUtil")
local ObjectTemplateUtil = ____ObjectTemplateUtil.default
local ____LangUtil = require("solar.solar-common.util.lang.LangUtil")
local LangUtil = ____LangUtil.default
local ____STimer = require("solar.solar-common.tool.STimer")
local STimer = ____STimer.default
local ____UnitStateUtil = require("solar.solar-common.util.unit.UnitStateUtil")
local UnitStateUtil = ____UnitStateUtil.default
local ____BaseUtil = require("solar.solar-common.util.BaseUtil")
local BaseUtil = ____BaseUtil.default
local ____FrameControl = require("solar.solar-common.framex.control.FrameControl")
local FrameControl = ____FrameControl.default
local ____SyncUtil = require("solar.solar-common.util.net.SyncUtil")
local SyncUtil = ____SyncUtil.default
local index = 0
____exports.default = __TS__Class()
local Actor = ____exports.default
Actor.name = "Actor"
function Actor.prototype.____constructor(self, actorTypeId)
    local ____index_0 = index
    index = ____index_0 + 1
    self.uuid = "sa" .. tostring(____index_0)
    self.updating = false
    self._sl_level = 0
    self._sl_isInitializedOnUnitInRangeEvent = false
    self._sl_lastReadyTime = {}
    self.childDestroyList = {}
    self.data = {}
    self.extData = {}
    self._sl_isInitialized = false
    self._sl_isDestroyed = false
    self._actorType = DataBase:getSolarActorType(actorTypeId)
    if self._actorType == nil then
        log.errorWithTraceBack("不能创建不存在的演员类型:" .. tostring(actorTypeId))
        return
    end
    if self._actorType.attribute then
        self._attribute = __TS__ObjectAssign({}, self._actorType.attribute)
        ____exports.default._sl_needUpdateAttribute = true
    end
    ____exports.default.allActors[self.uuid] = self
    if self.templateCacheKey == nil then
        if self._actorType.templateAllocPolicy == "actorTypeShare" then
            self.templateCacheKey = "_sltap_ats:" .. self._actorType.id
        elseif self._actorType.templateAllocPolicy == "templateTypeShare" then
            self.templateCacheKey = "_sltap_tts:" .. self._actorType.templateType
        elseif self._actorType.templateType == "建造者" then
            local builds = self._actorType.builds
            if builds then
                self.templateCacheKey = "_sltap_jzz:"
                for ____, build in ipairs(builds) do
                    self.templateCacheKey = (self.templateCacheKey .. ":") .. build
                end
            end
        end
    end
end
function Actor.prototype._sl_init(self)
    if self._sl_isInitialized then
        return
    end
    if self._actorType == nil then
        return
    end
    self._sl_isInitialized = true
    self.creationTime = _g_time / 1000
    for key in pairs(self._actorType) do
        local value = self._actorType[key]
        if not LangUtil:isFunction(value) and "attribute" ~= key then
            self:_sl_rawset(key, value)
        end
    end
    if self._actorType.name == nil then
        self:setName(self._actorType.id)
    end
    local timeoutS = self:get("interval")
    if timeoutS ~= nil and timeoutS > 0 and self:get("onInterval") ~= nil then
        self:startIntervalTimer(
            timeoutS,
            function()
                self:interval()
            end
        )
    end
    local ____opt_1 = self:get("onCreated")
    if ____opt_1 ~= nil then
        ____opt_1(nil, self)
    end
    for ____, listner in ipairs(____exports.default._sl_anyActorCreatedListeners) do
        listner(nil, self)
    end
    self.level = 1
end
function Actor.prototype._sl_rawset(self, key, value)
    ____exports.default._sl_needUpdateAttribute = true
end
function Actor.prototype.set(self, key, value)
    self.data[key] = value
    self:_sl_rawset(key, value)
end
function Actor.prototype.get(self, key, defaultValue)
    if self.data[key] ~= nil then
        return self.data[key]
    end
    local ____opt_3 = self._actorType
    if (____opt_3 and ____opt_3[key]) ~= nil then
        return self._actorType[key]
    end
    return defaultValue
end
function Actor.prototype.update(self)
    if self._sl_isDestroyed then
        return
    end
    for key in pairs(self._actorType) do
        local value = self._actorType[key]
        if not LangUtil:isFunction(value) and "attribute" ~= key then
            self:_sl_rawset(key, value)
        end
    end
    for dataKey in pairs(self.data) do
        self:_sl_rawset(dataKey, self.data[dataKey])
    end
    local ____opt_5 = self:get("onUpdate")
    if ____opt_5 ~= nil then
        ____opt_5(nil, self)
    end
end
function Actor.prototype.getTemplateType(self)
    return self:get("templateType")
end
function Actor.prototype.getAttribute(self, createDefault)
    if createDefault == nil then
        createDefault = false
    end
    if not self._attribute and createDefault then
        self._attribute = {}
    end
    return self._attribute
end
function Actor.prototype.getSpellTargetX(self)
    return GetSpellTargetX()
end
function Actor.prototype.getSpellTargetY(self)
    return GetSpellTargetY()
end
function Actor.prototype.getSpellTargetUnit(self)
    return GetSpellTargetUnit()
end
function Actor.prototype.getRootFrameControl(self, createDefault)
    if createDefault == nil then
        createDefault = true
    end
    if createDefault and self._sl_rootFrameControl == nil then
        self._sl_rootFrameControl = __TS__New(FrameControl)
        self._sl_rootFrameControl.rootFrame:setSize(0.04, 0.04)
    end
    return self._sl_rootFrameControl
end
function Actor.prototype.ifReady(self, timeSec, onReady, timerKey)
    if timerKey == nil then
        timerKey = "base"
    end
    if _g_time / 1000 - (self._sl_lastReadyTime[timerKey] or -10000) >= timeSec then
        self._sl_lastReadyTime[timerKey] = _g_time / 1000
        onReady(nil)
    end
end
function Actor.prototype.startIntervalTimer(self, timeoutS, handlerFunc)
    if self._sl_intervalTimer ~= nil then
        log.errorWithTraceBack("已经启动过计时器了。 再启动新计时器请手动在外部自行管理。(有interval事件的演员会自动启动计时器!)")
        return nil
    end
    self._sl_intervalTimer = __TS__New(STimer)
    self._sl_intervalTimer:start(timeoutS, handlerFunc, true)
    return self._sl_intervalTimer
end
function Actor.prototype.setName(self, name)
    self:set("name", name)
end
function Actor.prototype.getName(self)
    local name = self:get("name")
    if name == nil then
        return self.actorTypeId
    end
    return name
end
function Actor.prototype.setIcon(self, icon)
    self:set("icon", icon)
end
function Actor.prototype.getIcon(self)
    return self:get("icon")
end
function Actor.prototype.setModel(self, model)
    self:set("model", model)
end
function Actor.prototype.getModel(self)
    return self:get("model")
end
function Actor.prototype.setDescribe(self, describe)
    self:set("describe", describe)
end
function Actor.prototype.getDescribe(self, includeExts)
    if includeExts == nil then
        includeExts = false
    end
    local realDescribe = self:get("describe", "")
    if includeExts == false then
        return realDescribe
    end
    if self.extDescribeFirst2 and #self.extDescribeFirst2 > 0 then
        realDescribe = (self.extDescribeFirst2 .. "|r|n") .. realDescribe
    end
    if self.extDescribeFirst1 and #self.extDescribeFirst1 > 0 then
        realDescribe = (self.extDescribeFirst1 .. "|r|n") .. realDescribe
    end
    if self.extDescribeLast1 and #self.extDescribeLast1 > 0 then
        realDescribe = realDescribe .. "|r|n" .. self.extDescribeLast1
    end
    if self.extDescribeLast2 and #self.extDescribeLast2 > 0 then
        realDescribe = realDescribe .. "|r|n" .. self.extDescribeLast2
    end
    if self._sl_extDescribes then
        LangUtil:forEachSort(
            self._sl_extDescribes,
            function(____, name, text)
                realDescribe = realDescribe .. ("|r|n" .. tostring(name)) .. tostring(text)
            end
        )
    end
    return realDescribe
end
function Actor.prototype.setExtDescribe(self, name, text)
    if self._sl_extDescribes == nil then
        self._sl_extDescribes = {}
    end
    self._sl_extDescribes[name] = text
end
function Actor.prototype.removeExtDescribe(self, name)
    deleteKey(self._sl_extDescribes, name)
end
function Actor.prototype.clearExtDescribes(self)
    LangUtil:clearObject(self._sl_extDescribes)
end
function Actor.prototype.setDur(self, dur)
    self:set("dur", dur)
end
function Actor.prototype.getDur(self)
    return self:get("dur")
end
function Actor.prototype.setDisable(self, disable)
    self:set("disable", disable)
    ____exports.default._sl_needUpdateAttribute = true
end
function Actor.prototype.isDisable(self)
    return self:get("disable", false)
end
function Actor.prototype.setXY(self, x, y)
    self:set("x", x)
    self:set("y", y)
end
function Actor.prototype.getXY(self)
    return {
        x = self:get("x"),
        y = self:get("y")
    }
end
function Actor.prototype.setHide(self, hide)
    self:set("hide", hide)
end
function Actor.prototype.isHide(self)
    return self:get("hide", false)
end
function Actor.prototype.clone(self)
end
function Actor.prototype.localClick(self, btn, x, y)
    if self._sl_rootFrameControl ~= nil then
        local disableFrame = self._sl_rootFrameControl:getDisableFrame(false)
        if (disableFrame and disableFrame.visible) == true then
            return false
        end
    end
    isAsync = true
    local ____opt_9 = self:get("onLocalClick")
    local b = ____opt_9 and ____opt_9(
        nil,
        self,
        btn,
        x,
        y,
        self.actorType
    )
    isAsync = false
    if b == false then
        return false
    end
    if self:get("onClick") ~= nil then
        SyncUtil.syncObjData("_sl_:a:onClick", {i = self.uuid, b = btn})
    end
    return true
end
function Actor.prototype.action(self, x, y, targetUnit)
    if self:isDisable() then
        return
    end
    local ____opt_11 = self:get("onAction")
    if ____opt_11 ~= nil then
        ____opt_11(
            nil,
            self,
            x,
            y,
            targetUnit
        )
    end
    ____exports.default._sl_needUpdateAttribute = true
end
function Actor.prototype.interval(self)
    if self:isDisable() then
        return
    end
    local onInterval = self:get("onInterval")
    if onInterval then
        onInterval(nil, self)
        ____exports.default._sl_needUpdateAttribute = true
    end
    if self._sl_unit ~= nil and UnitStateUtil:isAlive(self._sl_unit) then
        local onUnitInterval = self:get("onUnitInterval")
        if onUnitInterval then
            onUnitInterval(nil, self)
            ____exports.default._sl_needUpdateAttribute = true
        end
    end
end
function Actor.prototype.isDestroyed(self)
    return self._sl_isDestroyed
end
function Actor.prototype.destroy(self, forceDestroy)
    if forceDestroy == nil then
        forceDestroy = false
    end
    if self._sl_isDestroyed then
        return
    end
    local onDestroy = self:get("onDestroy")
    if onDestroy then
        local flag = onDestroy(nil, self)
        if flag == false and forceDestroy == false then
            return
        end
    end
    for ____, listener in ipairs(____exports.default._sl_anyActorDestroyListeners) do
        listener(nil, self)
    end
    self.unit = nil
    self._sl_isDestroyed = true
    local ____opt_13 = self.sTimer
    if ____opt_13 ~= nil then
        ____opt_13:destroy()
    end
    local ____opt_15 = self._sl_intervalTimer
    if ____opt_15 ~= nil then
        ____opt_15:destroy()
    end
    if self.childDestroyList and #self.childDestroyList > 0 then
        for ____, destroyable in ipairs(self.childDestroyList) do
            destroyable:destroy()
        end
        self.childDestroyList = nil
    end
    if self.effect then
        DestroyEffect(self.effect)
        self.effect = nil
    end
    if self._sl_rootFrameControl ~= nil then
        self._sl_rootFrameControl.rootFrame.visible = false
        self._sl_rootFrameControl:destroy()
        self._sl_rootFrameControl = nil
    end
    if self.templateId ~= nil then
        if self:getTemplateType() ~= nil then
            ObjectTemplateUtil:returnTemplate(
                self:getTemplateType(),
                self.templateId,
                self.templateCacheKey,
                self.uuid
            )
        end
    end
    self.solarData = nil
    deleteKey(____exports.default.allActors, self.uuid)
    ____exports.default._sl_needUpdateAttribute = true
end
function Actor.prototype.destroyLater(self, timeOut)
    BaseUtil.runLater(
        timeOut,
        function()
            self:destroy()
        end
    )
end
Actor._sl_needUpdateAttribute = false
Actor.allActors = {}
__TS__SetDescriptor(
    Actor.prototype,
    "actorType",
    {get = function(self)
        return self._actorType
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "solarData",
    {
        get = function(self)
            return DataBase:getSolarActorSolarData(self.uuid)
        end,
        set = function(self, obj)
            DataBase:setSolarActorSolarData(self.uuid, obj)
        end
    },
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "attribute",
    {
        get = function(self)
            if self:isDisable() then
                return nil
            end
            return self._attribute
        end,
        set = function(self, value)
            self._attribute = value
        end
    },
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "actorTypeId",
    {get = function(self)
        return self._actorType.id
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "lastUnit",
    {get = function(self)
        return self._sl_lastUnit
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "unit",
    {
        get = function(self)
            return self._sl_unit
        end,
        set = function(self, value)
            if self._sl_isDestroyed then
                return
            end
            local oldUnit = self._sl_unit
            self._sl_unit = value
            local ____opt_17 = self:get("onUnitChange")
            if ____opt_17 ~= nil then
                ____opt_17(nil, self, value, oldUnit)
            end
            if self._sl_intervalTimer == nil then
                if self:get("onUnitInterval") ~= nil and IsHandle(self._sl_unit) then
                    local timeoutS = self:get("interval")
                    if timeoutS ~= nil and timeoutS > 0 then
                        self:startIntervalTimer(
                            timeoutS,
                            function()
                                self:interval()
                            end
                        )
                    end
                end
            elseif value == nil and self:get("onUnitInterval") ~= nil and self:get("onInterval") == nil then
                self._sl_intervalTimer:destroy()
                self._sl_intervalTimer = nil
            end
            if IsHandle(self._sl_unit) then
                if self._sl_isInitializedOnUnitInRangeEvent == false and self.actorType.onUnitInRange ~= nil and self:get("unitInRangeValue") ~= nil then
                    self._sl_isInitializedOnUnitInRangeEvent = true
                    se:onUnitInRange(
                        value,
                        self:get("unitInRangeValue"),
                        function()
                            local ____opt_19 = self:get("onUnitInRange")
                            if ____opt_19 ~= nil then
                                ____opt_19(
                                    nil,
                                    self,
                                    GetEnteringUnit()
                                )
                            end
                        end
                    )
                end
                se:emit("_sl_:单位获得演员", {u = self.unit, a = self})
                self._sl_lastUnit = self._sl_unit
            else
                se:emit("_sl_:单位失去演员", {u = self._sl_lastUnit, a = self})
            end
        end
    },
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "unitX",
    {get = function(self)
        return GetUnitX(self._sl_unit)
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "unitY",
    {get = function(self)
        return GetUnitY(self._sl_unit)
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "unitName",
    {get = function(self)
        if not IsHandle(self._sl_unit) then
            return nil
        end
        local ____opt_21 = DataBase:getUnitSolarData(self._sl_unit, false)
        local actor = ____opt_21 and ____opt_21._SL_solarActorUnit
        if actor ~= nil then
            return actor:getName()
        end
        return GetUnitName(self._sl_unit)
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "unitLevel",
    {get = function(self)
        return GetUnitLevel(self._sl_unit)
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "unitFacing",
    {get = function(self)
        return GetUnitFacing(self._sl_unit)
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "unitOwner",
    {get = function(self)
        return GetOwningPlayer(self._sl_unit)
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "unitOwnerId",
    {get = function(self)
        return GetPlayerId(GetOwningPlayer(self._sl_unit))
    end},
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "numberOverlay",
    {
        get = function(self)
            return self._sl_numberOverlay
        end,
        set = function(self, num)
            self._sl_numberOverlay = num
            if num then
                self:getRootFrameControl():setNumberOverlayText("" .. tostring(num))
            else
                local ____opt_23 = self:getRootFrameControl(false)
                if ____opt_23 ~= nil then
                    ____opt_23:setNumberOverlayText(nil)
                end
            end
        end
    },
    true
)
__TS__SetDescriptor(
    Actor.prototype,
    "level",
    {
        get = function(self)
            return self._sl_level
        end,
        set = function(self, value)
            local delta = value - (self._sl_level or 0)
            self._sl_level = value
            for ____, listener in ipairs(____exports.default._sl_anyActorLevelChangeListeners) do
                listener(nil, self, delta)
            end
            local ____opt_25 = self:get("onActorLevelChange")
            if ____opt_25 ~= nil then
                ____opt_25(nil, self, delta)
            end
            ____exports.default._sl_needUpdateAttribute = true
        end
    },
    true
)
Actor._sl_anyActorCreatedListeners = {}
Actor._sl_anyActorLevelChangeListeners = {}
Actor._sl_anyActorDestroyListeners = {}
return ____exports
