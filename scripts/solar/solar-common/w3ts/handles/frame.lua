local ____lualib = require("lualib_bundle")
local __TS__Class = ____lualib.__TS__Class
local __TS__TypeOf = ____lualib.__TS__TypeOf
local __TS__New = ____lualib.__TS__New
local __TS__SetDescriptor = ____lualib.__TS__SetDescriptor
local __TS__SourceMapTraceBack = ____lualib.__TS__SourceMapTraceBack
__TS__SourceMapTraceBack(debug.getinfo(1).short_src, {["9"] = 2,["10"] = 2,["11"] = 3,["12"] = 3,["13"] = 4,["14"] = 4,["15"] = 6,["16"] = 6,["17"] = 7,["18"] = 7,["19"] = 8,["20"] = 8,["21"] = 9,["22"] = 9,["23"] = 10,["24"] = 10,["25"] = 53,["26"] = 53,["27"] = 53,["28"] = 62,["29"] = 56,["30"] = 57,["31"] = 59,["32"] = 1030,["33"] = 63,["36"] = 66,["37"] = 67,["38"] = 68,["39"] = 69,["40"] = 69,["41"] = 69,["42"] = 69,["45"] = 72,["46"] = 73,["48"] = 75,["49"] = 76,["51"] = 78,["52"] = 79,["54"] = 81,["55"] = 82,["57"] = 84,["58"] = 85,["59"] = 87,["61"] = 89,["62"] = 89,["63"] = 89,["64"] = 89,["65"] = 89,["66"] = 89,["67"] = 89,["69"] = 98,["70"] = 98,["71"] = 98,["72"] = 98,["73"] = 62,["74"] = 239,["75"] = 240,["76"] = 241,["77"] = 239,["78"] = 247,["79"] = 248,["80"] = 249,["81"] = 247,["82"] = 253,["83"] = 254,["84"] = 255,["85"] = 256,["86"] = 253,["87"] = 263,["88"] = 264,["89"] = 265,["90"] = 266,["91"] = 266,["92"] = 266,["93"] = 266,["94"] = 266,["95"] = 266,["96"] = 266,["97"] = 267,["99"] = 269,["100"] = 270,["101"] = 271,["102"] = 272,["103"] = 263,["104"] = 276,["105"] = 277,["106"] = 278,["107"] = 276,["108"] = 282,["109"] = 283,["110"] = 284,["111"] = 282,["112"] = 288,["113"] = 289,["114"] = 290,["115"] = 288,["116"] = 294,["117"] = 295,["118"] = 296,["119"] = 294,["120"] = 305,["121"] = 305,["122"] = 305,["124"] = 305,["125"] = 305,["127"] = 306,["128"] = 307,["129"] = 308,["130"] = 305,["131"] = 314,["132"] = 315,["133"] = 315,["134"] = 314,["135"] = 321,["136"] = 322,["137"] = 322,["138"] = 321,["139"] = 329,["140"] = 330,["141"] = 331,["142"] = 329,["143"] = 338,["144"] = 339,["145"] = 340,["146"] = 338,["147"] = 348,["148"] = 349,["149"] = 350,["150"] = 351,["151"] = 352,["152"] = 348,["153"] = 359,["154"] = 360,["155"] = 361,["156"] = 359,["157"] = 367,["158"] = 368,["159"] = 367,["160"] = 377,["161"] = 378,["162"] = 379,["163"] = 377,["164"] = 385,["165"] = 386,["166"] = 385,["167"] = 393,["168"] = 394,["169"] = 395,["170"] = 393,["171"] = 401,["172"] = 402,["173"] = 401,["174"] = 408,["175"] = 409,["176"] = 410,["177"] = 411,["178"] = 408,["179"] = 417,["180"] = 418,["181"] = 417,["182"] = 424,["183"] = 424,["184"] = 424,["186"] = 424,["187"] = 424,["189"] = 425,["190"] = 426,["191"] = 427,["192"] = 424,["193"] = 433,["194"] = 434,["195"] = 433,["196"] = 437,["197"] = 438,["198"] = 439,["199"] = 437,["200"] = 450,["201"] = 451,["202"] = 452,["204"] = 454,["205"] = 455,["206"] = 456,["207"] = 456,["208"] = 456,["209"] = 456,["210"] = 456,["211"] = 456,["212"] = 456,["213"] = 456,["214"] = 457,["215"] = 457,["216"] = 457,["217"] = 457,["218"] = 457,["219"] = 457,["220"] = 457,["222"] = 459,["223"] = 460,["224"] = 461,["226"] = 463,["227"] = 463,["228"] = 463,["229"] = 463,["230"] = 463,["231"] = 463,["232"] = 463,["233"] = 463,["234"] = 464,["235"] = 464,["236"] = 464,["237"] = 464,["238"] = 464,["239"] = 464,["240"] = 464,["242"] = 470,["243"] = 450,["244"] = 477,["245"] = 478,["246"] = 478,["247"] = 478,["248"] = 478,["249"] = 478,["250"] = 478,["251"] = 478,["252"] = 477,["253"] = 484,["254"] = 488,["255"] = 484,["256"] = 494,["257"] = 495,["258"] = 496,["259"] = 494,["260"] = 502,["261"] = 503,["262"] = 504,["263"] = 505,["265"] = 507,["266"] = 502,["267"] = 516,["268"] = 516,["269"] = 516,["271"] = 517,["272"] = 517,["273"] = 517,["274"] = 517,["275"] = 517,["276"] = 517,["277"] = 517,["278"] = 517,["279"] = 518,["280"] = 518,["281"] = 518,["282"] = 518,["283"] = 518,["284"] = 518,["285"] = 518,["286"] = 518,["287"] = 519,["288"] = 516,["289"] = 522,["290"] = 523,["291"] = 522,["292"] = 526,["293"] = 527,["294"] = 528,["295"] = 529,["296"] = 526,["297"] = 537,["298"] = 538,["299"] = 539,["300"] = 537,["301"] = 545,["302"] = 546,["303"] = 547,["304"] = 545,["305"] = 553,["306"] = 554,["307"] = 555,["308"] = 553,["309"] = 561,["310"] = 562,["311"] = 561,["312"] = 568,["313"] = 569,["314"] = 568,["315"] = 575,["316"] = 576,["317"] = 575,["318"] = 582,["319"] = 583,["320"] = 582,["321"] = 589,["322"] = 590,["323"] = 589,["324"] = 596,["325"] = 597,["326"] = 596,["327"] = 603,["328"] = 604,["329"] = 603,["330"] = 610,["331"] = 611,["332"] = 610,["333"] = 615,["334"] = 616,["335"] = 617,["336"] = 615,["337"] = 623,["338"] = 624,["339"] = 625,["340"] = 626,["341"] = 623,["342"] = 629,["343"] = 630,["344"] = 629,["345"] = 634,["346"] = 635,["347"] = 636,["349"] = 638,["350"] = 639,["351"] = 634,["352"] = 642,["353"] = 643,["354"] = 644,["355"] = 642,["356"] = 652,["357"] = 652,["358"] = 652,["360"] = 653,["361"] = 654,["362"] = 655,["363"] = 652,["364"] = 661,["365"] = 662,["366"] = 661,["367"] = 670,["368"] = 670,["369"] = 670,["371"] = 671,["372"] = 671,["373"] = 671,["374"] = 671,["375"] = 671,["376"] = 671,["377"] = 672,["378"] = 673,["379"] = 674,["380"] = 675,["381"] = 670,["382"] = 683,["383"] = 684,["384"] = 684,["385"] = 684,["386"] = 684,["387"] = 684,["388"] = 684,["389"] = 685,["390"] = 686,["391"] = 687,["392"] = 688,["393"] = 683,["394"] = 691,["395"] = 692,["396"] = 693,["397"] = 691,["398"] = 696,["399"] = 697,["400"] = 698,["401"] = 696,["402"] = 702,["403"] = 703,["404"] = 704,["405"] = 702,["406"] = 708,["407"] = 709,["408"] = 710,["409"] = 711,["410"] = 708,["411"] = 719,["412"] = 720,["413"] = 721,["415"] = 723,["416"] = 719,["417"] = 729,["418"] = 730,["419"] = 729,["420"] = 752,["421"] = 753,["422"] = 754,["423"] = 752,["424"] = 760,["425"] = 761,["426"] = 760,["427"] = 767,["428"] = 768,["429"] = 769,["430"] = 767,["431"] = 775,["432"] = 776,["433"] = 775,["434"] = 782,["435"] = 783,["436"] = 782,["437"] = 789,["438"] = 790,["439"] = 789,["440"] = 827,["441"] = 827,["442"] = 827,["444"] = 828,["445"] = 827,["446"] = 834,["447"] = 834,["448"] = 834,["450"] = 835,["451"] = 834,["452"] = 842,["453"] = 843,["454"] = 844,["455"] = 845,["456"] = 846,["457"] = 847,["459"] = 844,["460"] = 842,["461"] = 855,["462"] = 856,["463"] = 857,["464"] = 858,["465"] = 859,["466"] = 860,["468"] = 857,["469"] = 855,["470"] = 868,["471"] = 868,["472"] = 868,["474"] = 869,["475"] = 868,["476"] = 875,["477"] = 875,["478"] = 875,["480"] = 876,["481"] = 875,["482"] = 882,["483"] = 882,["484"] = 882,["486"] = 883,["487"] = 882,["488"] = 889,["489"] = 889,["490"] = 889,["492"] = 890,["493"] = 889,["494"] = 896,["495"] = 896,["496"] = 896,["498"] = 897,["499"] = 896,["500"] = 903,["501"] = 903,["502"] = 903,["504"] = 904,["505"] = 903,["506"] = 911,["507"] = 911,["508"] = 911,["510"] = 913,["511"] = 911,["512"] = 920,["513"] = 921,["514"] = 920,["515"] = 927,["516"] = 927,["517"] = 927,["519"] = 928,["520"] = 927,["521"] = 934,["522"] = 934,["523"] = 934,["525"] = 935,["526"] = 934,["527"] = 941,["528"] = 941,["529"] = 941,["531"] = 942,["532"] = 941,["533"] = 948,["534"] = 948,["535"] = 948,["537"] = 949,["538"] = 948,["539"] = 955,["540"] = 955,["541"] = 955,["543"] = 956,["544"] = 957,["547"] = 962,["548"] = 963,["549"] = 964,["550"] = 965,["552"] = 968,["553"] = 969,["554"] = 970,["555"] = 971,["556"] = 972,["558"] = 974,["561"] = 955,["562"] = 982,["563"] = 982,["564"] = 982,["566"] = 983,["567"] = 984,["570"] = 987,["571"] = 987,["572"] = 987,["573"] = 988,["574"] = 989,["575"] = 990,["576"] = 991,["577"] = 992,["578"] = 993,["579"] = 994,["580"] = 995,["583"] = 991,["584"] = 999,["586"] = 1001,["587"] = 1002,["588"] = 1002,["589"] = 1002,["590"] = 1002,["591"] = 1003,["592"] = 1004,["594"] = 1002,["595"] = 1002,["597"] = 1008,["598"] = 1008,["599"] = 1008,["600"] = 1008,["601"] = 1009,["602"] = 1010,["604"] = 1008,["605"] = 1008,["606"] = 1008,["608"] = 1015,["609"] = 987,["610"] = 987,["611"] = 1017,["612"] = 982,["613"] = 1037,["614"] = 1038,["615"] = 1039,["616"] = 1037,["617"] = 1047,["618"] = 1048,["619"] = 1049,["620"] = 1047,["621"] = 1057,["622"] = 1058,["623"] = 1059,["624"] = 1057,["625"] = 1065,["626"] = 1066,["627"] = 1065,["628"] = 1074,["629"] = 1075,["630"] = 1076,["631"] = 1074,["632"] = 1080,["633"] = 1081,["634"] = 1080,["635"] = 1088,["636"] = 1089,["637"] = 1090,["638"] = 1091,["639"] = 1092,["640"] = 1093,["641"] = 1094,["642"] = 1095,["643"] = 1096,["644"] = 1096,["645"] = 1096,["646"] = 1097,["647"] = 1098,["649"] = 1100,["650"] = 1101,["651"] = 1102,["652"] = 1103,["653"] = 1104,["654"] = 1105,["655"] = 1106,["656"] = 1107,["657"] = 1108,["658"] = 1109,["660"] = 1111,["661"] = 1111,["662"] = 1111,["663"] = 1111,["664"] = 1111,["665"] = 1111,["666"] = 1111,["667"] = 1111,["668"] = 1111,["669"] = 1111,["670"] = 1111,["671"] = 1111,["672"] = 1123,["673"] = 1124,["674"] = 1125,["675"] = 1096,["676"] = 1096,["677"] = 1090,["678"] = 1128,["679"] = 1129,["680"] = 1128,["681"] = 1088,["682"] = 1136,["683"] = 1137,["686"] = 1140,["687"] = 1141,["688"] = 1143,["689"] = 1144,["690"] = 1145,["691"] = 1146,["692"] = 1147,["695"] = 1150,["696"] = 1151,["697"] = 1152,["698"] = 1153,["699"] = 1154,["701"] = 1154,["702"] = 1154,["703"] = 1154,["704"] = 1154,["705"] = 1154,["706"] = 1154,["707"] = 1154,["708"] = 1154,["709"] = 1154,["710"] = 1154,["711"] = 1154,["712"] = 1154,["715"] = 1145,["716"] = 1169,["717"] = 1170,["718"] = 1171,["721"] = 1174,["724"] = 1177,["725"] = 1178,["727"] = 1178,["729"] = 1179,["730"] = 1180,["731"] = 1181,["732"] = 1182,["734"] = 1169,["735"] = 1188,["736"] = 1189,["737"] = 1190,["738"] = 1191,["740"] = 1191,["742"] = 1192,["744"] = 1188,["745"] = 1196,["746"] = 1197,["747"] = 1198,["748"] = 1199,["749"] = 1200,["750"] = 1201,["751"] = 1202,["753"] = 1204,["755"] = 1204,["758"] = 1206,["760"] = 1196,["761"] = 1136,["762"] = 1217,["763"] = 1217,["764"] = 1217,["766"] = 1218,["767"] = 1219,["769"] = 1221,["770"] = 1221,["771"] = 1221,["772"] = 1221,["774"] = 1217,["775"] = 1226,["776"] = 1227,["777"] = 1226,["778"] = 1230,["779"] = 1231,["780"] = 1230,["781"] = 1239,["782"] = 1240,["783"] = 1239,["784"] = 1246,["785"] = 1247,["786"] = 1246,["787"] = 1253,["788"] = 1254,["789"] = 1253,["790"] = 1261,["791"] = 1262,["792"] = 1261,["793"] = 1268,["794"] = 1269,["795"] = 1269,["796"] = 1269,["797"] = 1269,["798"] = 1269,["799"] = 1269,["800"] = 1269,["801"] = 1268,["802"] = 1275,["803"] = 1277,["804"] = 1277,["805"] = 1277,["806"] = 1277,["807"] = 1277,["808"] = 1277,["809"] = 1277,["810"] = 1277,["811"] = 1278,["812"] = 1279,["813"] = 1280,["814"] = 1281,["815"] = 1275,["816"] = 1287,["817"] = 1288,["818"] = 1287,["819"] = 1295,["820"] = 1296,["821"] = 1296,["822"] = 1296,["823"] = 1296,["824"] = 1296,["825"] = 1296,["826"] = 1296,["827"] = 1295,["828"] = 1302,["829"] = 1303,["830"] = 1303,["831"] = 1303,["832"] = 1303,["833"] = 1303,["834"] = 1303,["835"] = 1303,["836"] = 1302,["837"] = 1309,["838"] = 1310,["839"] = 1309,["840"] = 1316,["841"] = 1317,["842"] = 1316,["843"] = 1324,["844"] = 1325,["845"] = 1324,["846"] = 1331,["847"] = 1332,["848"] = 1331,["849"] = 54,["855"] = 103,["856"] = 104,["857"] = 105,["859"] = 107,["860"] = 107,["861"] = 112,["862"] = 112,["863"] = 112,["864"] = 112,["865"] = 107,["866"] = 107,["867"] = 107,["868"] = 107,["871"] = 122,["873"] = 125,["874"] = 126,["884"] = 130,["885"] = 130,["886"] = 130,["887"] = 130,["889"] = 133,["890"] = 134,["891"] = 134,["892"] = 134,["893"] = 134,["894"] = 134,["903"] = 139,["912"] = 149,["914"] = 143,["915"] = 144,["925"] = 171,["927"] = 165,["928"] = 166,["938"] = 182,["939"] = 183,["941"] = 185,["943"] = 174,["944"] = 175,["945"] = 176,["946"] = 177,["957"] = 193,["959"] = 188,["960"] = 189,["970"] = 201,["972"] = 196,["973"] = 197,["983"] = 209,["985"] = 204,["986"] = 205,["996"] = 217,["998"] = 212,["999"] = 213,["1009"] = 227,["1011"] = 221,["1012"] = 222,["1013"] = 223,["1023"] = 236,["1025"] = 230,["1026"] = 231,["1027"] = 232,["1035"] = 737,["1036"] = 738,["1037"] = 739,["1045"] = 746,["1054"] = 804,["1056"] = 796,["1057"] = 797,["1067"] = 818,["1069"] = 810,["1070"] = 811});
local ____exports = {}
local ____DataBase = require("solar.solar-common.common.DataBase")
local DataBase = ____DataBase.default
local ____AsyncUtil = require("solar.solar-common.util.net.AsyncUtil")
local AsyncUtil = ____AsyncUtil.default
local ____Cache = require("solar.solar-common.tool.Cache")
local Cache = ____Cache.default
local ____FramePoint = require("solar.solar-common.constant.FramePoint")
local FramePoint = ____FramePoint.default
local ____InputUtil = require("solar.solar-common.util.system.InputUtil")
local InputUtil = ____InputUtil.default
local ____BaseUtil = require("solar.solar-common.util.BaseUtil")
local BaseUtil = ____BaseUtil.default
local ____SolarEvent = require("solar.solar-common.common.SolarEvent")
local SolarEvent = ____SolarEvent.default
local ____ArrayUtil = require("solar.solar-common.util.lang.ArrayUtil")
local ArrayUtil = ____ArrayUtil.default
____exports.Frame = __TS__Class()
local Frame = ____exports.Frame
Frame.name = "Frame"
function Frame.prototype.____constructor(self, frameOrFrameType, name, parent, template, id)
    self.current = 0
    self.type = ""
    self.propsTemp = nil
    self.startDrag = false
    if not frameOrFrameType then
        return
    end
    local ____type = __TS__TypeOf(frameOrFrameType)
    if ____type == "number" then
        self.current = frameOrFrameType
        ____exports.Frame._sl_cache:put(
            "handle:" .. tostring(self.current),
            self
        )
        return
    end
    if not name then
        name = "Solar:Frame:" .. tostring(AsyncUtil:getUUIDAsync())
    end
    if not parent then
        parent = DzGetGameUI()
    end
    if not template then
        template = ""
    end
    if not id then
        id = 0
    end
    self.type = frameOrFrameType
    if frameOrFrameType == "MODEL" then
        self.current = FrameAddModel(parent)
    else
        self.current = DzCreateFrameByTagName(
            frameOrFrameType,
            name,
            parent,
            template,
            id
        )
    end
    ____exports.Frame._sl_cache:put(
        "handle:" .. tostring(self.current),
        self
    )
end
function Frame.prototype.cageMouse(self, enable)
    DzFrameCageMouse(self.current, enable)
    return self
end
function Frame.prototype.clearPoints(self)
    DzFrameClearAllPoints(self.current)
    return self
end
function Frame.prototype.destroy(self)
    DzDestroyFrame(self.current)
    self.solarData = nil
    return self
end
function Frame.prototype.setAbsPoint(self, point, x, y)
    local pointObj = self:getPoint()
    if not pointObj then
        pointObj = {
            point = point,
            relative = DzGetGameUI(),
            relativePoint = FramePoint.bottomLeft,
            x = x,
            y = y
        }
        self.props.position = pointObj
    end
    pointObj.x = x
    pointObj.y = y
    DzFrameSetAbsolutePoint(self.current, point, x, y)
    return self
end
function Frame.prototype.setAllPoints(self, relative)
    DzFrameSetAllPoints(self.current, relative)
    return self
end
function Frame.prototype.setAlpha(self, alpha)
    DzFrameSetAlpha(self.current, alpha)
    return self
end
function Frame.prototype.setEnabled(self, flag)
    DzFrameSetEnable(self.current, flag)
    return self
end
function Frame.prototype.setFocus(self, flag)
    DzFrameSetFocus(self.current, flag)
    return self
end
function Frame.prototype.setFont(self, height, filename, flags)
    if filename == nil then
        filename = "Fonts\\dfst-m3u.ttf"
    end
    if flags == nil then
        flags = 0
    end
    DzFrameSetFont(self.current, filename, height, flags)
    self.props.font = {fileName = filename, height = height, flags = flags}
    return self
end
function Frame.prototype.getFontName(self)
    local ____opt_0 = self.props.font
    return ____opt_0 and ____opt_0.fileName
end
function Frame.prototype.getFontSize(self)
    local ____opt_2 = self.props.font
    return ____opt_2 and ____opt_2.height
end
function Frame.prototype.setHeight(self, height)
    self:setSize(self.width, height)
    return self
end
function Frame.prototype.setWidth(self, width)
    self:setSize(width, self.height)
    return self
end
function Frame.prototype.setSize(self, width, height)
    self.props.size.width = width
    self.props.size.height = height
    DzFrameSetSize(self.current, width, height)
    return self
end
function Frame.prototype.setTextFontSpacing(self, fontSpacing)
    FrameSetTextFontSpacing(self.current, fontSpacing)
    self.props.fontSpacing = fontSpacing
end
function Frame.prototype.getFontSpacing(self)
    return self.props.fontSpacing
end
function Frame.prototype.setTextAlignment(self, alignment)
    DzFrameSetTextAlignment(self.current, alignment)
    self.props.textAlignment = alignment
end
function Frame.prototype.getTextAlignment(self)
    return self.props.textAlignment
end
function Frame.prototype.setLevel(self, level)
    FrameSetLevel(self.current, level)
    return self
end
function Frame.prototype.setFramePort(self, p2)
    FrameSetViewPort(self.current, p2)
end
function Frame.prototype.setMinMaxValue(self, minValue, maxValue)
    DzFrameSetMinMaxValue(self.current, minValue, maxValue)
    self.props.minMaxValue = {min = minValue, max = maxValue}
    return self
end
function Frame.prototype.getMinMaxValue(self)
    return self.props.minMaxValue
end
function Frame.prototype.setModel(self, modelFile, modelType, flag)
    if modelType == nil then
        modelType = 0
    end
    if flag == nil then
        flag = 0
    end
    DzFrameSetModel(self.current, modelFile, modelType, flag)
    self.props.model = {modelFile = modelFile}
    return self
end
function Frame.prototype.getModel(self)
    return self.props.model.modelFile
end
function Frame.prototype.setParent(self, parent)
    DzFrameSetParent(self.current, parent)
    return self
end
function Frame.prototype.setPoint(self, pointObjOrPoint, relative, relativePoint, x, y)
    if pointObjOrPoint == nil then
        return self
    end
    if type(pointObjOrPoint) == "number" then
        local point = pointObjOrPoint
        DzFrameSetPoint(
            self.current,
            point,
            relative,
            relativePoint,
            x or 0,
            y or 0
        )
        self.props.position = {
            point = point,
            relative = relative,
            relativePoint = relativePoint,
            x = x or 0,
            y = y or 0
        }
    else
        local pointObj = pointObjOrPoint
        if not pointObj.relative then
            return self
        end
        DzFrameSetPoint(
            self.current,
            pointObj.point,
            pointObj.relative,
            pointObj.relativePoint,
            pointObj.x,
            pointObj.y
        )
        self.props.position = {
            point = pointObj.point,
            relative = pointObj.relative,
            relativePoint = pointObj.relativePoint,
            x = pointObj.x,
            y = pointObj.y
        }
    end
    return self
end
function Frame.prototype.setPoint2Center(self, relative)
    self:setPoint(
        FramePoint.center,
        relative,
        FramePoint.center,
        0,
        0
    )
end
function Frame.prototype.getPoint(self)
    return self.props.position
end
function Frame.prototype.getRelative(self)
    local p = self.props.position
    return p and p.relative
end
function Frame.prototype.getRelativeXY(self)
    local p = self.props.position
    if not p then
        return nil
    end
    return {x = p.x, y = p.y}
end
function Frame.prototype.setPoints(self, relative, widthGap, heightGap)
    if heightGap == nil then
        heightGap = widthGap
    end
    DzFrameSetPoint(
        self.current,
        FRAMEPOINT_TOPLEFT,
        relative,
        FRAMEPOINT_TOPLEFT,
        -widthGap,
        heightGap
    )
    DzFrameSetPoint(
        self.current,
        FRAMEPOINT_BOTTOMRIGHT,
        relative,
        FRAMEPOINT_BOTTOMRIGHT,
        widthGap,
        -heightGap
    )
    return self
end
function Frame.prototype.getScale(self)
    return self.props.scale
end
function Frame.prototype.setScale(self, scale)
    self.props.scale = scale
    DzFrameSetScale(self.current, scale)
    return self
end
function Frame.prototype.setSpriteAnimate(self, animId, autocast)
    DzFrameSetAnimate(self.current, animId, autocast)
    return self
end
function Frame.prototype.setAnimationByIndex(self, animId)
    FrameSetAnimationByIndex(self.current, animId)
    return self
end
function Frame.prototype.setFrameModelTexture(self, path)
    FrameSetModelTexture(self.current, path, 1)
    self.props.modelTexture = path
end
function Frame.prototype.getFrameModelTexture(self)
    return self.props.modelTexture
end
function Frame.prototype.setModel2(self, path)
    FrameSetModel2(self.current, path, 0)
end
function Frame.prototype.setModelCameraSource(self, x, y, z)
    FrameSetModelCameraSource(self.current, x, y, z)
end
function Frame.prototype.setModelCameraTarget(self, x, y, z)
    FrameSetModelCameraTarget(self.current, x, y, z)
end
function Frame.prototype.setModelPlayAnimation(self, animName)
    FramePlayAnimation(self.current, animName, "")
end
function Frame.prototype.setModelX(self, x)
    FrameSetModelX(self.current, x)
end
function Frame.prototype.setModelY(self, y)
    FrameSetModelY(self.current, y)
end
function Frame.prototype.setModelZ(self, z)
    FrameSetModelZ(self.current, z)
end
function Frame.prototype.setStepSize(self, stepSize)
    DzFrameSetStepValue(self.current, stepSize)
    return self
end
function Frame.prototype.setText(self, text)
    self.props.text = text
    DzFrameSetText(self.current, text)
    return self
end
function Frame.prototype.getText(self)
    return DzFrameGetText(self.current)
end
function Frame.prototype.setTextColor(self, rOrColor, g, b)
    if b ~= nil then
        rOrColor = 255 * 16777216 + rOrColor * 65536 + g * 256 + b
    end
    DzFrameSetTextColor(self.current, rOrColor)
    return self
end
function Frame.prototype.setTextSizeLimit(self, size)
    DzFrameSetTextSizeLimit(self.current, size)
    return self
end
function Frame.prototype.setTexture(self, texFile, flag)
    if flag == nil then
        flag = 0
    end
    DzFrameSetTexture(self.current, texFile, flag)
    self.props.texture = texFile
    return self
end
function Frame.prototype.getTexture(self)
    return self.props.texture
end
function Frame.prototype.addBackgroundImage(self, texFile, flag)
    if flag == nil then
        flag = 0
    end
    local backdropFrame = __TS__New(
        ____exports.Frame,
        "BACKDROP",
        ____exports.Frame:getRandomName(),
        self.current
    )
    backdropFrame:setTexture(texFile, flag)
    backdropFrame:setAllPoints(self.current)
    self.backdropFrame = backdropFrame
    return backdropFrame
end
function Frame.prototype.addTextFrame(self, text)
    local frame = __TS__New(
        ____exports.Frame,
        "TEXT",
        ____exports.Frame:getRandomName(),
        self.current
    )
    frame:setText(text)
    frame:setAllPoints(self.current)
    self.textFrame = frame
    return frame
end
function Frame.prototype.setTooltip(self, tooltip)
    DzFrameSetTooltip(self.current, tooltip)
    return self
end
function Frame.prototype.setValue(self, value)
    DzFrameSetValue(self.current, value)
    return self
end
function Frame.prototype.setVertexColor(self, color)
    DzFrameSetVertexColor(self.current, color)
    return self
end
function Frame.prototype.setVisible(self, flag)
    self.props.visible = flag
    DzFrameShow(self.current, flag)
    return self
end
function Frame.prototype.setModelSize(self, size)
    if FrameSetModelSize then
        FrameSetModelSize(self.current, size)
    end
    self.props.modelSize = size
end
function Frame.prototype.getModelSize(self)
    return self.props.modelSize
end
function Frame.prototype.setModelSpeed(self, Speed)
    FrameSetModelSpeed(self.current, Speed)
    self.props.modelSpeed = Speed
end
function Frame.prototype.getModelSpeed(self)
    return self.props.modelSpeed
end
function Frame.prototype.setAnimateOffset(self, offset)
    DzFrameSetAnimateOffset(self.current, offset)
    self.props.animateOffset = offset
end
function Frame.prototype.getAnimateOffset(self)
    return self.props.animateOffset
end
function Frame.prototype.setIgnoreTrackEvent(self, ign)
    FrameSetIgnoreTrackEvents(self.current, ign)
end
function Frame.prototype.setTexture2Transparent(self)
    self:setTexture("UI\\Widgets\\EscMenu\\Human\\blank-background.blp")
end
function Frame.prototype.setOnClick(self, callback, sync)
    if sync == nil then
        sync = false
    end
    self:setEventCallback(FRAMEEVENT_CONTROL_CLICK, callback, sync)
end
function Frame.prototype.addOnClick(self, callback, sync)
    if sync == nil then
        sync = false
    end
    self:addEventCallback(FRAMEEVENT_CONTROL_CLICK, callback, sync)
end
function Frame.prototype.addOnMouseRightDown(self, callback)
    local current = self.current
    InputUtil:onMouseRightButtonPressed(function()
        local focusUiId = DzGetMouseFocus()
        if focusUiId == current then
            callback()
        end
    end)
end
function Frame.prototype.addOnMouseRightUp(self, callback)
    local current = self.current
    InputUtil:onMouseRightButtonReleased(function()
        local focusUiId = DzGetMouseFocus()
        if focusUiId == current then
            callback()
        end
    end)
end
function Frame.prototype.setOnDoubleClick(self, callback, sync)
    if sync == nil then
        sync = false
    end
    self:setEventCallback(FRAMEEVENT_MOUSE_DOUBLECLICK, callback, sync)
end
function Frame.prototype.addOnDoubleClick(self, callback, sync)
    if sync == nil then
        sync = false
    end
    self:addEventCallback(FRAMEEVENT_MOUSE_DOUBLECLICK, callback, sync)
end
function Frame.prototype.setOnMouseEnter(self, callback, sync)
    if sync == nil then
        sync = false
    end
    self:setEventCallback(FRAMEEVENT_MOUSE_ENTER, callback, sync)
end
function Frame.prototype.addOnMouseEnter(self, callback, sync)
    if sync == nil then
        sync = false
    end
    self:addEventCallback(FRAMEEVENT_MOUSE_ENTER, callback, sync)
end
function Frame.prototype.setOnMouseLeave(self, callback, sync)
    if sync == nil then
        sync = false
    end
    self:setEventCallback(FRAMEEVENT_MOUSE_LEAVE, callback, sync)
end
function Frame.prototype.addOnMouseLeave(self, callback, sync)
    if sync == nil then
        sync = false
    end
    self:addEventCallback(FRAMEEVENT_MOUSE_LEAVE, callback, sync)
end
function Frame.prototype.setOnMouseDown(self, callback, sync)
    if sync == nil then
        sync = false
    end
    self:setEventCallback(FRAMEEVENT_MOUSE_DOWN, callback, sync)
end
function Frame.prototype.addOnMouseDown(self, callback)
    self:addEventCallback(FRAMEEVENT_MOUSE_DOWN, callback, false)
end
function Frame.prototype.setOnMouseUp(self, callback, sync)
    if sync == nil then
        sync = false
    end
    self:setEventCallback(FRAMEEVENT_MOUSE_UP, callback, sync)
end
function Frame.prototype.addOnMouseUp(self, callback, sync)
    if sync == nil then
        sync = false
    end
    self:addEventCallback(FRAMEEVENT_MOUSE_UP, callback, sync)
end
function Frame.prototype.setOnMouseWheel(self, callback, sync)
    if sync == nil then
        sync = false
    end
    self:setEventCallback(FRAMEEVENT_MOUSE_WHEEL, callback, sync)
end
function Frame.prototype.addOnMouseWheel(self, callback, sync)
    if sync == nil then
        sync = false
    end
    self:addEventCallback(FRAMEEVENT_MOUSE_WHEEL, callback, sync)
end
function Frame.prototype.setEventCallback(self, event, callback, sync)
    if sync == nil then
        sync = false
    end
    if sync and isAsync then
        log.errorWithTraceBack("无法在异步中注册同步方法！请在同步方法中执行！")
        return
    end
    local array = ____exports.Frame._sl_cache:get((tostring(self.current) .. "aecb") .. tostring(event))
    if array then
        log.errorWithTraceBack("你之前已经使用addEventCallback添加了此事件!请再次使用addEventCallback 以禁用此警告")
        array[#array + 1] = callback
    else
        if sync == false then
            local key = "onFrameEvent:" .. tostring(event)
            local solarTriggers = SolarEvent:getFrameDataEventHandler(self.current, key, false)
            ArrayUtil:clear(solarTriggers)
            se:onFrameEvent(self.handle, event, callback)
        else
            DzFrameSetScriptByCode(self.current, event, callback, sync)
        end
    end
end
function Frame.prototype.addEventCallback(self, event, callback, sync)
    if sync == nil then
        sync = false
    end
    if sync and isAsync then
        log.errorWithTraceBack("无法在异步中注册同步方法！请在同步方法中执行！")
        return
    end
    local array = ____exports.Frame._sl_cache:get(
        (tostring(self.current) .. "aecb") .. tostring(event),
        function()
            local array_temp = {}
            if event == FRAMEEVENT_MOUSE_DOWN then
                local current = self.current
                InputUtil:onMouseLeftButtonPressed(function()
                    local focusUiId = DzGetMouseFocus()
                    if focusUiId == current then
                        for ____, cb in ipairs(array_temp) do
                            cb()
                        end
                    end
                end)
                return array_temp
            end
            if sync == false then
                se:onFrameEvent(
                    self.handle,
                    event,
                    function()
                        for ____, cb in ipairs(array_temp) do
                            cb()
                        end
                    end
                )
            else
                DzFrameSetScriptByCode(
                    self.current,
                    event,
                    function()
                        for ____, cb in ipairs(array_temp) do
                            cb()
                        end
                    end,
                    sync
                )
            end
            return array_temp
        end
    )
    array[#array + 1] = callback
end
function Frame.prototype.setOnRightDragStart(self, onRightDragStart)
    self:_sl_InitRightDragEvent(self)
    self._sl_onRightDragStart = onRightDragStart
end
function Frame.prototype.setOnRightDragOver(self, onRightDragOver)
    self:_sl_InitRightDragEvent(self)
    self._sl_onRightDragOver = onRightDragOver
end
function Frame.prototype.setOnRightDragEnd(self, onRightDragEnd)
    self:_sl_InitRightDragEvent(self)
    self._sl_onRightDragEnd = onRightDragEnd
end
function Frame.prototype.getOnRightDragEnd(self)
    return self._sl_onRightDragEnd
end
function Frame.prototype.setOnRightDragDrop(self, onRightDragDrop)
    self:_sl_InitRightDragEvent(self)
    self._sl_onRightDragDrop = onRightDragDrop
end
function Frame.fromEvent(self)
    return self:fromHandle(DzGetTriggerUIEventFrame())
end
function Frame.prototype.addOnDragOver(self, onDrag)
    local f = self
    self:addOnMouseDown(function()
        f.startDrag = true
        local bX = InputUtil:getMouseSceneX()
        local bY = InputUtil:getMouseSceneY()
        local startDragX = InputUtil:getMouseSceneX()
        local startDragY = InputUtil:getMouseSceneY()
        BaseUtil.onTimer(
            0.03,
            function()
                if not f.startDrag then
                    return false
                end
                local screenX = DzGetMouseX()
                local screenY = DzGetMouseY()
                local sceneX = InputUtil:getMouseSceneX()
                local sceneY = InputUtil:getMouseSceneY()
                local x = 0
                local y = 0
                local point = f:getPoint()
                if point and point.x and point.y then
                    x = sceneX - point.x
                    y = sceneY - point.y
                end
                onDrag({
                    x = x,
                    y = y,
                    deltaX = sceneX - bX,
                    deltaY = sceneY - bY,
                    sceneX = sceneX,
                    sceneY = sceneY,
                    screenX = screenX,
                    screenY = screenY,
                    startDragX = startDragX,
                    startDragY = startDragY
                })
                bX = sceneX
                bY = sceneY
                return true
            end
        )
    end)
    InputUtil:onMouseLeftButtonReleased(function()
        f.startDrag = false
    end)
end
function Frame.prototype._sl_InitRightDragEvent(self, frame)
    if self._sl_FrameEvent_RightDragInit == true then
        return
    end
    self._sl_FrameEvent_RightDragInit = true
    local MouseMoveEventKey = "RightDrag_" .. tostring(frame.current)
    local bX = InputUtil:getMouseSceneX()
    local bY = InputUtil:getMouseSceneY()
    local function onMouseMoveEventCallBack()
        if not frame.startDrag then
            InputUtil:removeMouseMoveEvent(MouseMoveEventKey)
            return
        end
        local screenX = DzGetMouseX()
        local screenY = DzGetMouseY()
        local sceneX = InputUtil:getMouseSceneX()
        local sceneY = InputUtil:getMouseSceneY()
        local ____opt_8 = frame._sl_onRightDragOver
        if ____opt_8 ~= nil then
            ____opt_8({
                x = 0,
                y = 0,
                deltaX = sceneX - bX,
                deltaY = sceneY - bY,
                sceneX = sceneX,
                sceneY = sceneY,
                screenX = screenX,
                screenY = screenY,
                startDragX = bX,
                startDragY = bY
            })
        end
        return
    end
    frame:addOnMouseRightUp(function()
        if frame.startDrag then
            frame.startDrag = false
            return
        end
        if time - (frame._sl_FrameEvent_startDragTime or 0) < 500 then
            return
        end
        frame.startDrag = true
        local ____opt_10 = frame._sl_onRightDragStart
        if ____opt_10 ~= nil then
            ____opt_10()
        end
        if frame.startDrag then
            bX = InputUtil:getMouseSceneX()
            bY = InputUtil:getMouseSceneY()
            InputUtil:onMouseMoveEvent(onMouseMoveEventCallBack, MouseMoveEventKey)
        end
    end)
    InputUtil:onMouseRightButtonPressed(function()
        if frame.startDrag then
            frame._sl_FrameEvent_startDragTime = time
            local ____opt_12 = frame._sl_onRightDragEnd
            if ____opt_12 ~= nil then
                ____opt_12()
            end
            frame.startDrag = false
        end
    end)
    InputUtil:onMouseLeftButtonPressed(function()
        if frame.startDrag then
            frame._sl_FrameEvent_startDragTime = time
            if frame._sl_onRightDragDrop then
                local mouseFocus = DzGetMouseFocus()
                local targetFrame = ____exports.Frame:fromHandle(mouseFocus, true)
                frame._sl_onRightDragDrop(targetFrame)
            else
                local ____opt_14 = frame:getOnRightDragEnd()
                if ____opt_14 ~= nil then
                    ____opt_14()
                end
            end
            frame.startDrag = false
        end
    end)
end
function Frame.fromHandle(self, handle, onlyCache)
    if onlyCache == nil then
        onlyCache = false
    end
    if onlyCache then
        return ____exports.Frame._sl_cache:get("handle:" .. tostring(handle))
    else
        return ____exports.Frame._sl_cache:get(
            "handle:" .. tostring(handle),
            function() return __TS__New(____exports.Frame, handle) end
        )
    end
end
function Frame.fromName(self, name, createContext)
    return self:fromHandle(DzFrameFindByName(name, createContext))
end
function Frame.loadTOC(self, filename)
    return DzLoadToc(filename)
end
function Frame.getRandomName(self)
    return "Solar:Frame:" .. tostring(AsyncUtil:getUUIDAsync())
end
function Frame.createFrame(self, parent)
    return __TS__New(____exports.Frame, "FRAME", nil, parent)
end
function Frame.createBackDrop(self, parent)
    return __TS__New(____exports.Frame, "BACKDROP", nil, parent)
end
function Frame.createTEXT(self, parent)
    return __TS__New(____exports.Frame, "TEXT", nil, parent)
end
function Frame.createShadowTEXT(self, parent)
    return __TS__New(
        ____exports.Frame,
        "TEXT",
        nil,
        parent,
        "_sl_shadowtext"
    )
end
function Frame.createTEXTWithBorderBackDrop(self, parent)
    local bdFrame = __TS__New(
        ____exports.Frame,
        "BACKDROP",
        nil,
        parent,
        "_sl_border_backdrop",
        0
    )
    local textFrame = ____exports.Frame:createTEXT(parent)
    textFrame.backdropFrame = bdFrame
    bdFrame:setPoints(textFrame.current, 0.01, 0.01)
    return textFrame
end
function Frame.createGLUETEXTBUTTON(self, parent)
    return __TS__New(____exports.Frame, "GLUETEXTBUTTON", nil, parent)
end
function Frame.createBUTTON(self, parent)
    return __TS__New(
        ____exports.Frame,
        "BUTTON",
        nil,
        parent,
        "ScoreScreenTabButtonTemplate"
    )
end
function Frame.createGLUEBUTTON(self, parent)
    return __TS__New(
        ____exports.Frame,
        "GLUEBUTTON",
        nil,
        parent,
        "ScoreScreenTabButtonTemplate"
    )
end
function Frame.createTEXTBUTTON(self, parent)
    return __TS__New(____exports.Frame, "TEXTBUTTON", nil, parent)
end
function Frame.createTEXTAREA(self, parent)
    return __TS__New(____exports.Frame, "TEXTAREA", nil, parent)
end
function Frame.createSPRITE(self, parent)
    return __TS__New(____exports.Frame, "SPRITE", nil, parent)
end
function Frame.createMODEL(self, parent)
    return __TS__New(____exports.Frame, "MODEL", nil, parent)
end
Frame._sl_cache = __TS__New(Cache)
__TS__SetDescriptor(
    Frame.prototype,
    "props",
    {
        get = function(self)
            if not self.propsTemp then
                if self.current == 0 then
                    self.propsTemp = {size = {}, position = {relative = 0, x = 0, y = 0}, visible = true, scale = 1}
                else
                    self.propsTemp = {
                        size = {width = 0, height = 0},
                        position = {
                            relative = DzFrameGetParent(self.current),
                            x = 0,
                            y = 0
                        },
                        visible = true,
                        scale = 1
                    }
                end
            end
            return self.propsTemp
        end,
        set = function(self, obj)
            self.propsTemp = obj
        end
    },
    true
)
__TS__SetDescriptor(
    Frame.prototype,
    "solarData",
    {
        get = function(self)
            return DataBase:getDataByTypeId(
                "_SL_Frame",
                tostring(self.current)
            )
        end,
        set = function(self, obj)
            DataBase:setDataByTypeId(
                "_SL_Frame",
                tostring(self.current),
                obj
            )
        end
    },
    true
)
__TS__SetDescriptor(
    Frame.prototype,
    "handle",
    {get = function(self)
        return self.current
    end},
    true
)
__TS__SetDescriptor(
    Frame.prototype,
    "alpha",
    {
        get = function(self)
            return DzFrameGetAlpha(self.current)
        end,
        set = function(self, alpha)
            DzFrameSetAlpha(self.current, alpha)
        end
    },
    true
)
__TS__SetDescriptor(
    Frame.prototype,
    "enabled",
    {
        get = function(self)
            return DzFrameGetEnable(self.current)
        end,
        set = function(self, flag)
            DzFrameSetEnable(self.current, flag)
        end
    },
    true
)
__TS__SetDescriptor(
    Frame.prototype,
    "height",
    {
        get = function(self)
            if self.current == 0 then
                return self.props.size.height
            end
            return DzFrameGetHeight(self.current)
        end,
        set = function(self, height)
            self.props.size.height = height
            if self.current ~= 0 then
                DzFrameSetSize(self.current, self.width, height)
            end
        end
    },
    true
)
__TS__SetDescriptor(
    Frame.prototype,
    "parent",
    {
        get = function(self)
            return DzFrameGetParent(self.current)
        end,
        set = function(self, parent)
            DzFrameSetParent(self.current, parent)
        end
    },
    true
)
__TS__SetDescriptor(
    Frame.prototype,
    "text",
    {
        get = function(self)
            return self:getText()
        end,
        set = function(self, text)
            self:setText(text)
        end
    },
    true
)
__TS__SetDescriptor(
    Frame.prototype,
    "textSizeLimit",
    {
        get = function(self)
            return DzFrameGetTextSizeLimit(self.current)
        end,
        set = function(self, size)
            DzFrameSetTextSizeLimit(self.current, size)
        end
    },
    true
)
__TS__SetDescriptor(
    Frame.prototype,
    "value",
    {
        get = function(self)
            return DzFrameGetValue(self.current)
        end,
        set = function(self, value)
            DzFrameSetValue(self.current, value)
        end
    },
    true
)
__TS__SetDescriptor(
    Frame.prototype,
    "visible",
    {
        get = function(self)
            return self.props.visible
        end,
        set = function(self, flag)
            self.props.visible = flag
            DzFrameShow(self.current, flag)
        end
    },
    true
)
__TS__SetDescriptor(
    Frame.prototype,
    "width",
    {
        get = function(self)
            return self.props.size.width
        end,
        set = function(self, width)
            self.props.size.width = width
            DzFrameSetSize(self.current, width, self.height)
        end
    },
    true
)
__TS__SetDescriptor(
    Frame.prototype,
    "setModelPariticleSize",
    {set = function(self, size)
        FrameSetModelPariticle2Size(self.current, size)
        self.props.modelPariticleSize = size
    end},
    true
)
__TS__SetDescriptor(
    Frame.prototype,
    "getModelPariticleSize",
    {get = function(self)
        return self.props.modelPariticleSize
    end},
    true
)
__TS__SetDescriptor(
    Frame.prototype,
    "backdropFrame",
    {
        get = function(self)
            return self.props.backdropFrame
        end,
        set = function(self, frame)
            self.props.backdropFrame = frame
        end
    },
    true
)
__TS__SetDescriptor(
    Frame.prototype,
    "textFrame",
    {
        get = function(self)
            return self.props.textFrame
        end,
        set = function(self, frame)
            self.props.textFrame = frame
        end
    },
    true
)
return ____exports
